# vesta_diary

# EndPoints


## Создание записи
**Создает новую запись в системе. Возращает идентификатор заметки в системе**

### Запрос
- **Метод:** `POST`
- **URL:** `/records/`
- **Тело запроса (JSON):**
  ```json
  {
    "name": "string (обязательно)",
    "content": "string (опционально)"
  }
  ```

### Пример запроса
```json
{
  "name": "Моя первая запись",
  "content": "Пример содержимого"
}
```

### Успешный ответ (200)
```json
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
}
```

---

## Обновление записи
**Обновляет содержимое существующей записи. Принимает идентификатор заметки и новый текст**

### Запрос
- **Метод:** `PUT`
- **URL:** `/records/`
- **Тело запроса (JSON):**
  ```json
  {
    "id": "UUID (обязательно)",
    "content": "string (опционально)"
  }
  ```

### Пример запроса
```json
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "content": "Новое содержимое"
}
```

### Успешный ответ (200)
```json
{
  "success": true
}
```

---

## Удаление записи
**Удаляет запись по идентификатору.**

### Запрос
- **Метод:** `DELETE`
- **URL:** `/records/`
- **Тело запроса (JSON):**
  ```json
  {
    "id": "UUID (обязательно)"
  }
  ```

### Пример запроса
```json
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
}
```

### Успешный ответ (200)
```json
{
  "success": true
}
```

---

## Чтение записи
**Возвращает содержимое конкретной заметки.**

### Запрос
- **Метод:** `POST`
- **URL:** `/records/read`
- **Тело запроса (JSON):**
  ```json
  {
    "id": "UUID (обязательно)"
  }
  ```

### Пример запроса
```json
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
}
```

### Успешный ответ (200)
```json
{
  "content": "Текст записи..."
}
```

---

## Список записей
**Возвращает список всех заметок в системе в формате: идентификатор, имя, время создания и статус**

### Запрос
- **Метод:** `GET`
- **URL:** `/records/list`

### Успешный ответ (200)
```json
[
  {
    "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
    "name": "Запись 1",
    "created_at": "2024-01-01T12:00:00Z",
    "marked": false
  },
  {
    "id": "4fb95f64-5717-4562-b3fc-2c963f66afb7",
    "name": "Запись 2",
    "created_at": "2024-01-02T13:30:00Z",
    "marked": true
  }
]
```

---

## Изменение метки записи
**Переключает флаг `marked` записи.**

### Запрос
- **Метод:** `POST`
- **URL:** `/records/mark`
- **Тело запроса (JSON):**
  ```json
  {
    "id": "UUID (обязательно)"
  }
  ```

### Пример запроса
```json
{
  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
}
```

### Успешный ответ (200)
```json
{
  "flag": true
}
```


## **Запуск приложения**
### **Генерация .env файла**
```bash
sh scripts/genetate-env.sh
```

### **Запуск**
Сервер будет запущен нa 8080 порту
```bash
docker compose up -d --build
```

### **Подключение к базе данных**
```bash
docker exec -it postgres_db psql -U postgres
```